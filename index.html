<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bahrain F1 - Microsetores 2026</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            color: #e0e1dd;
            margin: 0;
            padding: 20px;
        }
        h1 { text-align: center; color: #00f5d4; margin-bottom: 30px; }
        
        .container { max-width: 1400px; margin: 0 auto; }
        
        .controls {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #1b263b;
            border-radius: 15px;
        }
        
        select {
            padding: 15px 25px;
            font-size: 18px;
            border-radius: 10px;
            background: #415a77;
            color: white;
            border: 2px solid #00f5d4;
            cursor: pointer;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 25px 0;
            flex-wrap: wrap;
            padding: 20px;
            background: #1b263b;
            border-radius: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
        }
        
        .legend-color {
            width: 40px;
            height: 20px;
            border-radius: 5px;
            border: 1px solid white;
        }
        
        /* Microsector visualization */
        .sector-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .sector-box {
            background: #1b263b;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid;
        }
        
        .sector-1 { border-color: #00ff88; }
        .sector-2 { border-color: #ffd60a; }
        .sector-3 { border-color: #ff006e; }
        
        .sector-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .sector-1 .sector-title { color: #00ff88; }
        .sector-2 .sector-title { color: #ffd60a; }
        .sector-3 .sector-title { color: #ff006e; }
        
        .microsectors {
            display: flex;
            gap: 3px;
            height: 80px;
            align-items: flex-end;
            padding: 10px;
            background: #0d1b2a;
            border-radius: 10px;
            overflow-x: auto;
        }
        
        .micro {
            flex: 1;
            min-width: 20px;
            border-radius: 3px 3px 0 0;
            transition: all 0.3s;
            position: relative;
        }
        
        .micro:hover {
            transform: scaleY(1.1);
            z-index: 10;
        }
        
        .micro::after {
            content: attr(data-code);
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 8px;
            color: #778da9;
        }
        
        /* Colors */
        .code-2048 { background: #ffd60a; height: 40%; } /* Yellow - Standard */
        .code-2049 { background: #00ff88; height: 80%; } /* Green - Personal Best */
        .code-2051 { background: #bf5af2; height: 100%; } /* Purple - Overall Best */
        .code-2064 { background: #ff006e; height: 30%; } /* Pink - Pit */
        .code-0 { background: #333; height: 20%; }
        
        .driver-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: #1b263b;
            border-radius: 15px;
        }
        
        .info-card {
            background: #415a77;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .info-card h3 { margin: 0 0 10px 0; color: #00f5d4; font-size: 14px; }
        .info-card .value { font-size: 24px; font-weight: bold; }
        
        .lap-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background: #1b263b;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .lap-table th, .lap-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #415a77;
        }
        
        .lap-table th { background: #0d1b2a; color: #00f5d4; }
        
        .lap-table tr:hover { background: #415a77; }
        
        /* Full track with sectors */
        .track-visual {
            background: #1b263b;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }
        
        .track-svg {
            width: 100%;
            height: auto;
        }
        
        .microsector-bar {
            display: flex;
            gap: 2px;
            margin: 10px 0;
            padding: 10px;
            background: #0d1b2a;
            border-radius: 8px;
            overflow-x: auto;
        }
        
        .bar-segment {
            flex: 1;
            min-width: 15px;
            height: 30px;
            border-radius: 2px;
        }
        
        @media (max-width: 768px) {
            .sector-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèéÔ∏è Bahrain International Circuit - Microsetores 2026</h1>
        
        <div class="controls">
            <select id="driverSelect">
                <option value="">Selecione um piloto...</option>
            </select>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #00ff88;"></div>
                <span>2049 - Personal Best</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffd60a;"></div>
                <span>2048 - Standard</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #bf5af2;"></div>
                <span>2051 - Overall Best</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff006e;"></div>
                <span>2064 - Pit Lane</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #333;"></div>
                <span>0 - No Data</span>
            </div>
        </div>
        
        <div id="driverInfo" class="driver-info" style="display:none;">
            <div class="info-card">
                <h3>Piloto</h3>
                <div class="value" id="infoName">-</div>
            </div>
            <div class="info-card">
                <h3>Equipe</h3>
                <div class="value" id="infoTeam">-</div>
            </div>
            <div class="info-card">
                <h3>Melhor Volta</h3>
                <div class="value" id="infoTime">-</div>
            </div>
            <div class="info-card">
                <h3>Voltas Analisadas</h3>
                <div class="value" id="infoLaps">-</div>
            </div>
        </div>
        
        <div id="microsectorsViz" style="display:none;">
            <div class="sector-container">
                <div class="sector-box sector-1">
                    <div class="sector-title">üü¢ SETOR 1 (10 microsetores)</div>
                    <div class="microsectors" id="sector1"></div>
                    <p style="color: #778da9; font-size: 12px;">Curvas 1-5</p>
                </div>
                <div class="sector-box sector-2">
                    <div class="sector-title">üü° SETOR 2 (11 microsetores)</div>
                    <div class="microsectors" id="sector2"></div>
                    <p style="color: #778da9; font-size: 12px;">Curvas 6-10</p>
                </div>
                <div class="sector-box sector-3">
                    <div class="sector-title">üî¥ SETOR 3 (9 microsetores)</div>
                    <div class="microsectors" id="sector3"></div>
                    <p style="color: #778da9; font-size: 12px;">Curvas 11-15 + Reta</p>
                </div>
            </div>
        </div>
        
        <div id="fullTrack" style="display:none;">
            <div class="track-visual">
                <h2 style="text-align:center;color:#00f5d4;">Pista Completa - Sequ√™ncia de Microsetores</h2>
                <p style="text-align:center;color:#778da9;">Visualiza√ß√£o da volta mais r√°pida</p>
                
                <h4 style="color:#00ff88;">Setor 1</h4>
                <div class="microsector-bar" id="barS1"></div>
                
                <h4 style="color:#ffd60a;">Setor 2</h4>
                <div class="microsector-bar" id="barS2"></div>
                
                <h4 style="color:#ff006e;">Setor 3</h4>
                <div class="microsector-bar" id="barS3"></div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; color: #778da9;">
            <p>Bahrain International Circuit | 5.412 km | 15 curvas | 30 microsetores</p>
            <p>Dados: OpenF1 API | Desenvolvido por Enheduanna</p>
        </div>
    </div>
    
    <script>
        const driverData = {"5": {"name": "Gabriel BORTOLETO", "team": "Audi", "best_time": 93.755, "s1_count": 279, "s2_count": 314, "s3_count": 310, "s1_micros": [2048], "s2_micros": [2049, 2049, 2048, 2048, 2049, 2049, 2049, 2049, 2048, 2049, 2049], "s3_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2064, 2064]}, "41": {"name": "Arvid LINDBLAD", "team": "Racing Bulls", "best_time": 94.149, "s1_count": 324, "s2_count": 358, "s3_count": 357, "s1_micros": [2048, 2048, 2048], "s2_micros": [2048, 2049, 2048, 2048, 2048, 2048, 2048, 2049, 2048, 2048, 2048], "s3_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2049, 2049]}, "55": {"name": "Carlos SAINZ", "team": "Williams", "best_time": 94.342, "s1_count": 324, "s2_count": 371, "s3_count": 371, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048], "s3_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048]}, "77": {"name": "Valtteri BOTTAS", "team": "Cadillac", "best_time": 95.29, "s1_count": 228, "s2_count": 259, "s3_count": 257, "s1_micros": [2049, 2049, 2049, 2049, 2051, 2051, 2049, 2049, 2051, 2051], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2064, 2064]}, "3": {"name": "Max VERSTAPPEN", "team": "Red Bull Racing", "best_time": 93.109, "s1_count": 347, "s2_count": 383, "s3_count": 383, "s1_micros": [2051, 2051, 2051, 2051, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2051, 2049, 2048, 2049, 2049, 2049, 2051, 2049, 2049, 2049], "s3_micros": [2049, 2051, 2051, 2051, 2051, 2051, 2051, 2051]}, "81": {"name": "Oscar PIASTRI", "team": "McLaren", "best_time": 92.861, "s1_count": 380, "s2_count": 417, "s3_count": 415, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2051, 2051, 2051], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2048, 2064, 2064]}, "18": {"name": "Lance STROLL", "team": "Aston Martin", "best_time": 95.974, "s1_count": 99, "s2_count": 128, "s3_count": 128, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2064, 2064]}, "44": {"name": "Lewis HAMILTON", "team": "Ferrari", "best_time": 93.408, "s1_count": 261, "s2_count": 293, "s3_count": 292, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2048, 2048, 2048, 2048, 2048, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "31": {"name": "Esteban OCON", "team": "Haas F1 Team", "best_time": 94.201, "s1_count": 314, "s2_count": 365, "s3_count": 364, "s1_micros": [2049, 2049, 2051, 2051, 2049, 2049, 2051, 2049, 2049, 2049], "s2_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048], "s3_micros": [2048, 2048, 2048, 2048, 2048, 2049, 2048, 2049, 2049]}, "63": {"name": "George RUSSELL", "team": "Mercedes", "best_time": 93.197, "s1_count": 351, "s2_count": 382, "s3_count": 383, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2051, 2049, 2049, 2051, 2049], "s2_micros": [2051, 2051, 2051, 2049, 2051, 2049, 2049, 2051, 2051, 2051, 2051], "s3_micros": [2051, 2049, 2049, 2049, 2051, 2051, 2051, 2051, 2051]}, "43": {"name": "Franco COLAPINTO", "team": "Alpine", "best_time": 93.818, "s1_count": 290, "s2_count": 327, "s3_count": 328, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "1": {"name": "Lando NORRIS", "team": "McLaren", "best_time": 92.871, "s1_count": 295, "s2_count": 340, "s3_count": 339, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2048, 2048, 2048, 2048, 2048], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "16": {"name": "Charles LECLERC", "team": "Ferrari", "best_time": 91.992, "s1_count": 316, "s2_count": 368, "s3_count": 367, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "11": {"name": "Sergio PEREZ", "team": "Cadillac", "best_time": 95.369, "s1_count": 254, "s2_count": 287, "s3_count": 287, "s1_micros": [2049, 2049, 2049, 2049, 2048, 2048, 2048, 2048, 2049, 2048], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "23": {"name": "Alexander ALBON", "team": "Williams", "best_time": 94.555, "s1_count": 310, "s2_count": 357, "s3_count": 356, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "27": {"name": "Nico HULKENBERG", "team": "Audi", "best_time": 93.987, "s1_count": 292, "s2_count": 344, "s3_count": 342, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "12": {"name": "Kimi ANTONELLI", "team": "Mercedes", "best_time": 92.803, "s1_count": 230, "s2_count": 259, "s3_count": 259, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2064, 2064]}, "10": {"name": "Pierre GASLY", "team": "Alpine", "best_time": 93.421, "s1_count": 255, "s2_count": 299, "s3_count": 298, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "87": {"name": "Oliver BEARMAN", "team": "Haas F1 Team", "best_time": 93.487, "s1_count": 324, "s2_count": 375, "s3_count": 374, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2051, 2051, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2064, 2064]}, "30": {"name": "Liam LAWSON", "team": "Racing Bulls", "best_time": 94.532, "s1_count": 284, "s2_count": 317, "s3_count": 317, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2051, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "14": {"name": "Fernando ALONSO", "team": "Aston Martin", "best_time": 96.536, "s1_count": 154, "s2_count": 182, "s3_count": 181, "s1_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049]}, "6": {"name": "Isack HADJAR", "team": "Red Bull Racing", "best_time": 94.26, "s1_count": 206, "s2_count": 242, "s3_count": 241, "s1_micros": [2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048, 2048], "s2_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049, 2049], "s3_micros": [2049, 2049, 2049, 2049, 2049, 2049, 2049, 2064, 2064]}};
        
        // Populate select
        const select = document.getElementById('driverSelect');
        Object.entries(driverData).sort((a,b) => a[1].name.localeCompare(b[1].name)).forEach(([id, driver]) => {
            const option = document.createElement('option');
            option.value = id;
            option.textContent = driver.name + ' - ' + driver.team;
            select.appendChild(option);
        });
        
        // Handle selection
        select.addEventListener('change', function() {
            const id = this.value;
            const driver = driverData[id];
            
            if (!driver) {
                document.getElementById('driverInfo').style.display = 'none';
                document.getElementById('microsectorsViz').style.display = 'none';
                document.getElementById('fullTrack').style.display = 'none';
                return;
            }
            
            // Show info
            document.getElementById('driverInfo').style.display = 'grid';
            document.getElementById('infoName').textContent = driver.name;
            document.getElementById('infoTeam').textContent = driver.team;
            document.getElementById('infoTime').textContent = formatTime(driver.best_time);
            document.getElementById('infoLaps').textContent = driver.s1_count;
            
            // Show microsectors
            document.getElementById('microsectorsViz').style.display = 'block';
            document.getElementById('fullTrack').style.display = 'block';
            
            // Render microsectors
            renderMicrosectors('sector1', driver.s1_micros);
            renderMicrosectors('sector2', driver.s2_micros);
            renderMicrosectors('sector3', driver.s3_micros);
            
            // Render bars
            renderBar('barS1', driver.s1_micros);
            renderBar('barS2', driver.s2_micros);
            renderBar('barS3', driver.s3_micros);
        });
        
        function renderMicrosectors(elementId, micros) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';
            
            micros.forEach((code, i) => {
                const div = document.createElement('div');
                div.className = 'micro code-' + code;
                div.setAttribute('data-code', code);
                div.title = 'Microsetor ' + (i+1) + ': ' + code;
                container.appendChild(div);
            });
        }
        
        function renderBar(elementId, micros) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';
            
            micros.forEach((code, i) => {
                const div = document.createElement('div');
                div.className = 'bar-segment code-' + code;
                div.title = 'MS ' + (i+1) + ': ' + code;
                container.appendChild(div);
            });
        }
        
        function formatTime(seconds) {
            if (!seconds) return '-';
            const m = Math.floor(seconds / 60);
            const s = (seconds % 60).toFixed(3);
            return m + ':' + s.padStart(6, '0');
        }
    </script>
</body>
</html>
